Direct Currency Converter - DCC

No ads or spyware.

Version: 2.8.0.0
Date: 2018-02-25

After installation, you'll have a new button in the toolbar. The button will open a popup with the following items:
Toogle conversion on and off.
Open a quotes page that can be sorted by value and currency.
Open a test page for currencies.

The settings tab is opened with the "Options" menu item.
Changed settings are saved with the "Save" button in the settings tab.
Settings can be reset to default with the "Reset" button.

DCC can get its currency quotes from three different sources:
ECB (33 currencies, default)
Currencylayer (168 currencies, requires a free or paid API key)
Yahoo! (188 currencies, not always reliable)
The data source is selected in the DCC options. The easiest way is to use ECB. If you need more currencies,
Currencylayer is recommended. You need an API key that is available from their site. Store the key in the DCC settings, and you are ready to go.

Currency quotes are updated when you start the program, reset the quotes. or when you switch currency or data source.

Your location is used to set your default region and currency (for example Finland - euro). It is guessed using the freegeoip.net or geoip.nekudo.com service.

If conversion does not work, it probably means that there was no reply from the data source. Try to reload the browser (F5 button) and check the internet connection.

You can convert to and from most existing currency codes as defined by ISO 4217, including precious metals.

A few currencies (CHF, DKK, EUR, GBP, ISK, JPY, NOK, RUB, SEK and USD) are pre-selected for conversion. You can select all currencies, but having too many currencies selected may clutter the pages and result in slow performance.

The conversion is made according to a best guess, checking for ISO currency codes (USD), the currency name in plain text (dollars) and popular abbreviations (US$).
Also, currency names in several languages are checked, for example Arabic, Thai and Mongol.
Ambiguous currencies are converted in the priority order you want. For instance, "kr" can mean SEK, DKK, NOK or ISK, and is converted to the first possible currency
in the currency list in the settings tab.
A tooltip containing original price, converted price and conversion quote is optionally shown in the upper left corner of the browser area.
The "from currency" code is optionally shown in brackets after the original value like this: 6,67 € (60 kr [SEK]).

Amounts without units are not converted, but you can force all numbers to be converted from a currency by selecting "Always convert from the same currency:".

Also, if amount and unit are in different HTML elements (for example when they have different colours or sizes) conversion cannot be done.

Optionally, if selected in the settings tab, some traditional units of measurement (such as miles and calories) are converted to SI units (such as kilometres and kilojoules).

Originally released for Firefox:
https://addons.mozilla.org/addon/direct-currency-converter-2/

Some features of the old Firefox version could not be ported to the Chrome/Opera version:
- PDF document conversion

External libraries used:
jQuery 3.3.1
jQuery UI 1.12.1
jQuery UI Touch Punch 0.2.3
DOMPurify 1.0.2

Icons provided by Iconfinder.

Author: Per Johansson, Johanssons Informationsteknik JOINT, Åland Islands, Finland.

History

Version: 2.0.0
Date: 2014-11-16
First release, ported from Firefox.

Version: 2.0.1.0
Date: 2015-01-19
Improved support for USD and GHC.

Version: 2.0.2.0
Date: 2015-01-21
Fixed error with decimal calculation.

Version: 2.0.2.1
Date: 2015-01-28
Internal changes.

Version: 2.0.2.2
Date: 2015-02-02
Show on button if conversion is enabled or disabled.

Version: 2.0.2.3
Date: 2015-02-15
Internal fixes.

Version: 2.0.3.0
Date: 2015-03-10
Added support for US cents (¢, ￠).
Improved support for non-English characters in price matches.
Internal change: rewrote price regexes.
Internal change: Updated jQuery and jQuery UI versions.

Version: 2.1.0.0
Date: 2015-05-18
Improved localisation, using default currency formats from Unicode Common Locale Data Repository (CLDR) Version 27.0.1.
Fix: no reload needed when activating conversion.
Fix: "Excluded domains" work now.
Internal change: general code rewrite in order to ease maintenance and porting between web browsers.

Version: 2.1.1.0
Date: 2015-05-24
Removed Lithuanian Litas (LTL).
Fix: Currency Spacing setting
Fix: Exclude Opera extensions pages.
Fix: Error while reading currency from storage

Version: 2.1.1.1
Date: 2015-05-26
New build for Opera.

Version: 2.1.2.0
Date: 2015-06-03
Fix: Store and reset settings.

Version: 2.1.2.1
Date: 2015-07-12
Fix: save selected currencies.

Version: 2.2.0.0
Date: 2015-08-14
Currency and country name changes from ISO 4217 Amendment Number 160
Settings screen currency selection improved. Also support for small screens and touch screens.

Version: 2.3.0.0
Date: 2015-09-27
Fix: the priority order of currencies to convert from. Users will have to save the currency list again. Sorry for that.
Fix: touch screen drag and drop for the currencies.
Better support for euro currency recognition in various languages.

Version: 2.4.1.0
Date: 2015-11-07
Added an improved tooltip in the upper left corner that shows the conversion used for each element. It won't hide the original tooltip any more. It can be turned off and on in the settings.
Original price and original currency in brackets can now be hidden and shown separately in the settings.
Fix: some settings had been disabled.
Fix: an error with CHF and SEK conversion.
Fix: don't suppress original tooltips

Version: 2.4.2.0
Date: 2015-12-02
Improved support for subunits (cents etc.).
Fix: works with dynamically changed data (again).

Version: 2.4.3.0
Date: 2016-03-12
Updated to ISO 4217 Amendment Number 162

Version: 2.4.4.0
Date: 2016-05-07
Added geoip.nekudo.com to find user's location an default currency.
Internal change: Using HTML 5 data instead of hidden input nodes to store original and converted data.

Version: 2.4.4.1
Date: 2016-05-14
Bugfix: repeated values were shown.

Version: 2.4.4.2
Date: 2016-05-22
Internal change: Simplified GcContentInterface code.
Internal change: Optimisation for Chrome with var originalChildNodes.

Version: 2.4.4.3
Date: 2016-05-23
Fix: invalid declarations in the first initialisation code.

Version: 2.4.5.0
Date: 2016-05-25
The browser action icons are now grey to contrast with dark themes. Also scaled to correct sizes.
Internal change: content scripts will not throw the error "Uncaught TypeError: Identifier has already been declared"

Version: 2.4.6.0
Date: 2016-06-06
Improved title of conversion so all conversions in an element are shown.
Fix: some text was disappearing in converted elements.
Fix: reset settings did not load the location.
Internal change: refactored and cleaned the main content script.

Version: 2.4.7.0
Date: 2016-07-09
Replaced old Belarusian rouble BYR with BYN (ISO 4217 amendment number 160).
Fix: some converted text was written to the wrong element.
Fix: conversion of amount with an immediately preceding parenthesis, such as "(500 USD)"

Version: 2.4.8.0
Date: 2016-07-10
Fix: some text was disappearing in converted elements.

Version: 2.4.9.0
Date: 2016-09-05
Selection of all currencies or no currencies.
Internal change: upgraded versions of jQuery to 2.2.4 and jQuery UI to 1.12.0

Version: 2.4.10.0
Date: 2016-09-07
Uses the new settings window in Chrome and Opera (Options Version 2: options_ui instead of options_page).

Version: 2.4.11.0
Date: 2016-10-11
Internal change: does not use Yahoo YQL any more, because of reliability issues.

Version: 2.4.12.0
Date: 2016-10-28
Added a button to update currency quotes in the settings form.

Version: 2.5.0.0
Date: 2017-03-19
Added a popup with links to toggle and to quotes page (ported from Firefox).
Added a quotes page, sortable on currency names and values.
Improved handling of unit multiples ($ million, etc.). More will be found.
Improved handling of minor units (cents, etc.). Most existing minor units should be found.
Internal change: improved regular expressions.

Version: 2.5.0.1
Date: 2017-03-19
Bugfixes: settings and region initialisation did not work correctly.

Version: 2.6.1.0
Date: 2017-06-17
Added possibility to force conversion of all numbers on a page from one currency to another, even if there is no currency unit present.
Now using currency format taken from the browser language settings (instead of setting it manually).
Exchange quote adjustment can now be set to any value, including decimals.
Currency names updated from ISO 4217 Amendment Number 163.
Fix: several prices in the same paragraph were sometimes not converted.
Fix: toggle off conversion would sometimes not work without reloading the page.
Fix: MGA conversion.

Version: 2.6.2.0
Date: 2017-07-02
Added new setting to select between currency symbol (€) and currency code (EUR).
Improved conversion tooltip: bigger and showing all conversions in the selected paragraph.
Added more cyrillic search patterns for USD.
Added milliard for MGA.
Improved performance (in the currency formatting code).

Version: 2.6.3.0
Date: 2017-07-27
Improved performance (especially on Gmail).

Version: 2.6.4.0
Date: 2017-08-12
Improved performance.

Version: 2.7.0.0
Date: 2017-11-10
Using another data source since the original one was closed.

Version: 2.8.0.0
Date: 2018-02-25
Three different currency data sources to choose from, instead of only one.
Link to currencies test page.
Updates from ISO 4217 amendments: São Tomé and Príncipe STN, Mauritania MRU, and new name for Philippine piso.
Recognises A$ as AUD.
Internal change: updated jQuery, jQuery UI, and introduced DOMPurify for checking input data.

